(this.webpackJsonpsearchsongs=this.webpackJsonpsearchsongs||[]).push([[0],{12:function(e,t,s){},13:function(e,t,s){},14:function(e,t,s){},16:function(e,t,s){"use strict";s.r(t);var c=s(0),n=s(1),a=s.n(n),i=s(5),r=s.n(i),l=(s(12),s(13),s(2)),o=(s(14),s(4)),j=s.n(o),d=s(6),u=function(){var e=Object(n.useContext)(v),t=e.loading,s=e.keys,a=e.setFilterKey,i=e.setFilterLead,r=function(e){switch(e.target.id){case"keys":a(e.target.value);break;case"leads":i(e.target.value)}},l=t?[]:s.map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}));return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{className:"center",children:"Filter"}),Object(c.jsx)("label",{htmlFor:"keys",children:"By Key:"}),Object(c.jsxs)("select",{className:"browser-default",name:"keys",id:"keys",onChange:r,children:[Object(c.jsx)("option",{value:"",children:"All"}),l]}),Object(c.jsx)("label",{htmlFor:"leads",children:"By Leaders:"}),Object(c.jsxs)("select",{className:"browser-default",name:"leads",id:"leads",onChange:r,children:[Object(c.jsx)("option",{value:"",children:"All"}),["Keith","Sis. Jackie","Sis. Jones","Tymbree"].map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}))]})]})},b=function(e){var t=function(t){"sortBy"===t.target.name&&e.setSortBy(t.target.value),"ascDesc"===t.target.name&&e.setAscDesc(t.target.value)};return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{className:"center",children:"Sort"}),Object(c.jsxs)("div",{className:"flex-row asc-desc",children:[Object(c.jsxs)("div",{className:"radio-button width-30",children:[Object(c.jsx)("label",{htmlFor:"title",children:"Asc"}),Object(c.jsx)("input",{type:"radio",id:"asc",name:"ascDesc",value:"asc",onClick:t,defaultChecked:!0})]}),Object(c.jsxs)("div",{className:"radio-button width-30",children:[Object(c.jsx)("label",{htmlFor:"title",children:"Desc"}),Object(c.jsx)("input",{type:"radio",id:"desc",name:"ascDesc",value:"desc",onClick:t})]})]}),Object(c.jsxs)("div",{className:"radio-button",children:[Object(c.jsx)("label",{htmlFor:"title",children:"By Title"}),Object(c.jsx)("input",{type:"radio",id:"title",name:"sortBy",value:"name",onClick:t,defaultChecked:!0})]}),Object(c.jsxs)("div",{className:"radio-button",children:[Object(c.jsx)("label",{htmlFor:"date",children:"By Last Sung"}),Object(c.jsx)("input",{type:"radio",id:"date",name:"sortBy",value:"date",onClick:t})]}),Object(c.jsxs)("div",{className:"radio-button",children:[Object(c.jsx)("label",{htmlFor:"key",children:"By Key"}),Object(c.jsx)("input",{type:"radio",id:"key",name:"sortBy",value:"key",onClick:t})]})]})},h=function(){var e=Object(n.useContext)(v),t=e.isMobile,s=e.showSettings,a=e.setSortBy,i=e.setAscDesc,r=e.setShowSettings;return Object(c.jsx)("div",{className:t?"settings-container-mobile":"settings-container",hidden:!s,children:Object(c.jsxs)("div",{className:"settings-div",children:[Object(c.jsx)(u,{}),Object(c.jsx)(b,{setSortBy:a,setAscDesc:i}),Object(c.jsx)("button",{onClick:function(){return r(!1)},hidden:!t,children:"Close"})]})})},O=function(e){var t=Object(n.useState)(""),s=Object(l.a)(t,2),a=s[0],i=s[1];return Object(n.useEffect)((function(){e.setSearchVal(a)}),[e,a]),Object(c.jsxs)("div",{className:"search-component",children:[Object(c.jsx)("div",{className:"search-bar",children:Object(c.jsx)("input",{className:"browser-default",type:"text",name:"search",placeholder:"Search",value:a,onChange:function(e){i(e.target.value)}})}),Object(c.jsx)("button",{className:"clear-search",onClick:function(){return i("")},children:"Clear"}),Object(c.jsx)("button",{className:"settings-button",onClick:function(){return e.setShowSettings(!e.showSettings)},hidden:!e.isMobile,children:"Settings"})]})},x=function(){var e=Object(n.useContext)(v),t=e.setSearchVal,s=e.isMobile,a=e.showSettings,i=e.setShowSettings;return Object(c.jsxs)("div",{className:"top-div",children:[Object(c.jsx)("h1",{children:"Search Songs"}),Object(c.jsx)("p",{children:"A React app made to search through, filter, and sort a list of songs. Deployed with GitHub."}),Object(c.jsx)(O,{setSearchVal:t,showSettings:a,setShowSettings:i,isMobile:s})]})},m=function(e){var t=e.song,s=t.name,n=t.lead,a=t.key,i=t.url,r=t.last_date_sung,l="https://projectym.net/songs/"+i,o=r?new Date(r).toDateString().slice(3):"";return Object(c.jsxs)("div",{className:"card",children:[Object(c.jsx)("h5",{children:s}),Object(c.jsxs)("p",{className:"center",children:["Last Sung: ",o]}),Object(c.jsxs)("p",{children:[n?"Lead: ".concat(n," | "):""," Key: ",a," |  ",Object(c.jsx)("a",{href:l,children:"Lyrics"})]})]})},p=function(){var e=Object(n.useContext)(v),t=e.loading,s=e.sortResults,a=e.ascDesc,i=e.sortBy,r=e.songResults;return t?Object(c.jsx)("div",{className:"bottom-div",children:Object(c.jsx)("h4",{children:"Loading..."})}):Object(c.jsxs)("div",{className:"bottom-div",children:[s("name",a),"name"===i?null:s(i,a),r.map((function(e){return Object(c.jsx)(m,{song:e},e.id)}))]})},v=a.a.createContext(),f=function(){var e=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),s=t[0],c=t[1],a=Object(n.useState)(!0),i=Object(l.a)(a,2),r=i[0],o=i[1],u=Object(n.useState)([]),b=Object(l.a)(u,2),h=b[0],O=b[1],x=Object(n.useState)([]),m=Object(l.a)(x,2),p=m[0],v=m[1];return s||function(){var e=Object(d.a)(j.a.mark((function e(){var t,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,fetch("https://raw.githubusercontent.com/projectym/Songs-Api/main/db.json");case 4:return t=e.sent,e.next=7,t.json();case 7:s=e.sent,O(s.Songs),v(s.Keys),o(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}()(),{loading:r,songs:h,keys:p}}(),t=e.loading,s=e.songs,a=e.keys,i=Object(n.useState)([]),r=Object(l.a)(i,2),o=r[0],u=r[1],b=Object(n.useState)(""),O=Object(l.a)(b,2),m=O[0],f=O[1],g=Object(n.useState)(""),y=Object(l.a)(g,2),S=y[0],k=y[1],w=Object(n.useState)("name"),C=Object(l.a)(w,2),N=C[0],B=C[1],D=Object(n.useState)("asc"),F=Object(l.a)(D,2),A=F[0],L=F[1],U=Object(n.useState)(""),E=Object(l.a)(U,2),K=E[0],M=E[1],_=Object(n.useState)(!1),R=Object(l.a)(_,2),J=R[0],V=R[1],z=Object(n.useState)(!0),T=Object(l.a)(z,2),G=T[0],H=T[1],I=function(){var e=window.innerWidth;e>1e3&&J?(V(!1),H(!0)):e<=1e3&&!J&&(V(!0),H(!1))};return Object(n.useEffect)((function(){t||u(s)}),[s,t]),Object(n.useEffect)((function(){if(!t){var e=s.filter((function(e){return""!==m&&""!==S?e.key===m&&e.lead.includes(S):""!==m?e.key===m:""===S||e.lead.includes(S)}));""!==K&&function(){var t=K.toUpperCase().split(" "),s=t.indexOf("");s>-1&&t.splice(s,1);for(var c=function(s){e.length>0&&(e=e.filter((function(e){var c=e.name,n=e.lead,a=e.key;return!!c.toUpperCase().includes(t[s])||(!!n.toUpperCase().includes(t[s])||!!a.toUpperCase().includes(t[s]))})))},n=0;n<t.length;n++)c(n)}(),u(e)}}),[t,m,S,s,K]),Object(n.useEffect)((function(){return I(),window.addEventListener("resize",I),function(){window.removeEventListener("resize",I)}})),Object(c.jsx)(v.Provider,{value:{loading:t,isMobile:J,showSettings:G,keys:a,setFilterKey:f,setFilterLead:k,setSortBy:B,setAscDesc:L,setShowSettings:H,sortBy:N,ascDesc:A,setSearchVal:M,sortResults:function(e,t){o&&o.sort((function(s,c){var n=1,a=-1;"desc"===t&&(n=-1,a=1);var i="",r="";return"key"===e?(i=s.key.toUpperCase(),r=c.key.toUpperCase()):"date"===e?(i=s.last_date_sung.toUpperCase(),r=c.last_date_sung.toUpperCase()):(i=s.name.toUpperCase(),r=c.name.toUpperCase()),i<r?a:i>r?n:0}))},songResults:o},children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(h,{}),Object(c.jsxs)("div",{className:J?"main-div-mobile":"main-div",children:[Object(c.jsx)(x,{}),Object(c.jsx)(p,{})]})]})})};r.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(f,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.455e71c1.chunk.js.map